
[client]
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4

[mysqld]
character-set-server = utf8mb4

;sql-mode                    = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION'

# Accept connections from any IP address
bind-address = 0.0.0.0

#desenvolvimento - em produção descomentar e sync 1
;server-id               = 1
;binlog_expire_logs_seconds = 259200
;max_binlog_size         = 50M
sync_binlog             = 0

table_open_cache_instances = 24
table_open_cache = 15000
max_heap_table_size           = 256M
open_files_limit              = 16384
tmp_table_size                = 256M
table_definition_cache        = 20000



key_buffer_size = 128M

read_buffer_size = 64M
read_rnd_buffer_size = 64M

sort_buffer_size = 64M

bulk_insert_buffer_size = 64M
myisam_sort_buffer_size = 64M
myisam_max_sort_file_size = 128M
myisam_repair_threads = 1
interactive_timeout = 28800
wait_timeout = 28800
connect_timeout = 900
net_read_timeout = 900
net_write_timeout = 900

join_buffer_size = 8M
thread_stack            = 256K
thread_cache_size       = 20

max_allowed_packet      = 128M

default_storage_engine = InnoDB


thread_handling = pool-of-threads
thread_pool_idle_timeout = 300
thread_pool_size = 4

#desenvolvimento - em produção O_DIRECT_NO_FSYNC
;innodb_flush_method           = O_DIRECT
innodb_flush_method            = O_DIRECT_NO_FSYNC
innodb_log_files_in_group      = 2
innodb_log_file_size           = 256M
innodb_flush_log_at_trx_commit = 1
innodb_io_capacity = 2000
innodb_file_per_table          = 1
innodb_open_files = 10000
innodb_buffer_pool_size        = 1G
innodb_thread_concurrency = 0
;ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction
innodb_lock_wait_timeout = 600
innodb_log_buffer_size = 64M
innodb_read_io_threads = 8
innodb_write_io_threads = 8
innodb_buffer_pool_instances = 4
innodb_adaptive_flushing = 1
innodb_stats_persistent = 1
innodb_autoinc_lock_mode = 2

innodb_random_read_ahead = on
;innodb_buffer_pool_read_ahead = 35
